{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","config.js","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","react_default","a","createElement","className","href","id","Footer","Date","getFullYear","API_KEY","process","API_URL","Preloader","GoodsItem","props","mainId","displayName","displayDescription","price","displayAssets","regularPrice","src","map","item","full_background","alt","onClick","add","style","fontSize","GoodsList","_props$goods","goods","length","Object","assign","key","Cart","_props$quantity","quantity","_props$handleBasketSh","handleBasketShow","Function","prototype","BasketItem","_props$deleteBasketIt","deleteBasketItem","_props$changeAmount","changeAmount","BasketList","_props$order","order","totalPrice","reduce","sum","el","Alert","_props$displayName","_props$closeAlert","closeAlert","console","log","useEffect","timerId","setTimeout","clearTimeout","Shop","_useState","useState","_useState2","slicedToArray","setGoods","_useState3","_useState4","loading","setLoading","_useState5","_useState6","setOrder","_useState7","_useState8","isBasketShow","setBasketShow","_useState9","_useState10","alert","setAlert","fetch","headers","Authorization","then","response","json","date","shop","itemIndex","findIndex","orderItem","newItem","objectSpread","concat","toConsumableArray","index","newOrder","filter","flag","min","App","Fragment","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.71a41afd.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Header() {\n  return (\n    <nav className=\"green darken-1\">\n      <div className=\"nav-wrapper\">\n        <a href=\"#!\" className=\"brand-logo\">\n          React Shop\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a href=\"#!\">Repo</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n\nexport { Header };\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"page-footer green lighten-1\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          Â© {new Date().getFullYear()} Copyright Text\n          <a className=\"grey-text text-lighten-4 right\" href=\"#!\">\n            Repo\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport { Footer };\n","const API_KEY = process.env.REACT_APP_API_KEY;\n//const API_KEY = \"a402f3c4-8e131ccc-157f3778-446245fa\";\n\nconst API_URL = \"https://fortniteapi.io/v2/shop?lang=ru\";\n\nexport { API_KEY, API_URL };\n","import React from \"react\";\n\nfunction Preloader() {\n  return (\n    <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>\n  );\n}\n\nexport { Preloader };\n","import React from \"react\";\n\nfunction GoodsItem(props) {\n  const { mainId, displayName, displayDescription, price, displayAssets } =\n    props;\n  const regularPrice = price.regularPrice;\n\n  return (\n    <div className=\"card\" id={mainId}>\n      <div className=\"card-image\">\n        <img\n          src={displayAssets.map((item) => item.full_background)}\n          alt={displayName}\n        />\n      </div>\n      <div className=\"card-content\">\n        <span className=\"card-title\">{displayName}</span>\n        <p>{displayDescription}</p>\n      </div>\n      <div className=\"card-action\">\n        <button\n          className=\"btn\"\n          onClick={() => props.add({ mainId, displayName, regularPrice })}\n        >\n          Buy\n        </button>\n        <span className=\"right\" style={{ fontSize: \"1.8rem\" }}>\n          {price.regularPrice} RUB\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport { GoodsItem };\n","import React from \"react\";\n\nimport { GoodsItem } from \"./GoodsItem\";\n\nfunction GoodsList(props) {\n  const { goods = [] } = props;\n\n  if (!goods.length) {\n    return <h3>Nothing</h3>;\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodsItem key={item.mainId} {...item} add={props.add} />\n      ))}\n    </div>\n  );\n}\n\nexport { GoodsList };\n","import React from \"react\";\n\nfunction Cart(props) {\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\n  return (\n    <div className=\"cart blue darken-4 white-text\" onClick={handleBasketShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n    </div>\n  );\n}\n\nexport { Cart };\n","import React from \"react\";\n\nfunction BasketItem(props) {\n  const {\n    mainId,\n    displayName,\n    regularPrice,\n    quantity,\n    deleteBasketItem = Function.prototype,\n    changeAmount = Function.prototype,\n  } = props;\n\n  return (\n    <li className=\"collection-item\">\n      {displayName}\n      <span className=\"amount\" onClick={() => changeAmount(false, mainId)}>\n        <i className=\"material-icons\">remove</i>\n      </span>\n      x{quantity}\n      <span className=\"amount\" onClick={() => changeAmount(true, mainId)}>\n        <i className=\"material-icons\">add</i>\n      </span>\n      = {regularPrice * quantity} rub\n      <span\n        className=\"secondary-content\"\n        onClick={() => deleteBasketItem(mainId)}\n      >\n        <i className=\"material-icons delete\">close</i>\n      </span>\n    </li>\n  );\n}\nexport { BasketItem };\n","import React from \"react\";\nimport { BasketItem } from \"./BasketItem\";\n\nfunction BasketList(props) {\n  const {\n    order = [],\n    handleBasketShow = Function.prototype,\n    deleteBasketItem = Function.prototype,\n    changeAmount = Function.prototype,\n  } = props;\n\n  const totalPrice = order.reduce((sum, el) => {\n    return sum + el.regularPrice * el.quantity;\n  }, 0);\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active\">Basket</li>\n      {order.length ? (\n        order.map((el) => (\n          <BasketItem\n            key={el.mainId}\n            {...el}\n            deleteBasketItem={deleteBasketItem}\n            changeAmount={changeAmount}\n          />\n        ))\n      ) : (\n        <li className=\"collection-item\">Nothing</li>\n      )}\n      <li className=\"collection-item active\">Sum: {totalPrice} rub</li>\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>\n        close\n      </i>\n      <button className=\"secondery-content btn-small right\">Buy</button>\n    </ul>\n  );\n}\nexport { BasketList };\n","import React, { useEffect } from \"react\";\n\nfunction Alert(props) {\n  const { displayName = \"\", closeAlert = Function.prototype } = props;\n  console.log(displayName);\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [displayName]);\n\n  return (\n    <div id=\"toast-container\">\n      <div className=\"toast\">{displayName}</div>\n    </div>\n  );\n}\n\nexport { Alert };\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { API_URL, API_KEY } from \"../config\";\nimport { Preloader } from \"./Preloader\";\nimport { GoodsList } from \"./GoodsList\";\nimport { Cart } from \"./Cart\";\nimport { BasketList } from \"./BasketList\";\nimport { Alert } from \"./Alert\";\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isBasketShow, setBasketShow] = useState(false);\n  const [alert, setAlert] = useState(\"\");\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        Authorization: API_KEY,\n      },\n    })\n      .then((response) => response.json())\n      .then((date) => {\n        date.shop && setGoods(date.shop);\n        setLoading(false);\n      });\n  }, []);\n\n  function handleBasketShow() {\n    setBasketShow(!isBasketShow);\n  }\n\n  function deleteBasketItem(item) {\n    const newOrder = order.filter((el) => {\n      return el.mainId !== item;\n    });\n    setOrder(newOrder);\n  }\n\n  function changeAmount(flag, item) {\n    const newOrder = order.map((el) => {\n      if (el.mainId === item) {\n        if (flag) {\n          return { ...el, quantity: el.quantity + 1 };\n        } else {\n          const min = el.quantity - 1;\n          if (min > 0) {\n            return { ...el, quantity: min };\n          }\n        }\n      }\n      return el;\n    });\n    setOrder(newOrder);\n  }\n\n  function addCart(item) {\n    const itemIndex = order.findIndex(\n      (orderItem) => orderItem.mainId === item.mainId\n    );\n    console.log(item.mainId);\n    if (itemIndex < 0) {\n      const newItem = {\n        ...item,\n        quantity: 1,\n      };\n      setOrder([...order, newItem]);\n    } else {\n      console.log(\"ok\");\n      const newItem = order.map((el, index) => {\n        if (itemIndex === index) {\n          return {\n            ...el,\n            quantity: el.quantity + 1,\n          };\n        } else {\n          return el;\n        }\n      });\n      setOrder(newItem);\n    }\n    setAlert(item.displayName);\n  }\n\n  function closeAlert() {\n    setAlert(\"\");\n  }\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n      {loading ? <Preloader /> : <GoodsList goods={goods} add={addCart} />}\n      {isBasketShow && (\n        <BasketList\n          order={order}\n          handleBasketShow={handleBasketShow}\n          deleteBasketItem={deleteBasketItem}\n          changeAmount={changeAmount}\n        />\n      )}\n      {alert && <Alert displayName={alert} closeAlert={closeAlert} />}\n    </main>\n  );\n}\n\nexport { Shop };\n","import React from \"react\";\nimport { Header } from \"./components/Header\";\nimport { Footer } from \"./components/Footer\";\nimport { Shop } from \"./components/Shop\";\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n"],"sourceRoot":""}