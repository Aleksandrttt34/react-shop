(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),l=a.n(r);a(15);function i(){return c.a.createElement("nav",{className:"green darken-1"},c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("a",{href:"#!",className:"brand-logo"},"React Shop"),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement("a",{href:"#!"},"Repo")))))}function o(){return c.a.createElement("footer",{className:"page-footer green lighten-1"},c.a.createElement("div",{className:"footer-copyright"},c.a.createElement("div",{className:"container"},"\xa9 ",(new Date).getFullYear()," Copyright Text",c.a.createElement("a",{className:"grey-text text-lighten-4 right",href:"#!"},"Repo"))))}var s=a(5),m=a(2),u=a(1),d="a402f3c4-8e131ccc-157f3778-446245fa",f="https://fortniteapi.io/v2/shop?lang=ru";function p(){return c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"indeterminate"}))}function E(e){var t=e.mainId,a=e.displayName,n=e.displayDescription,r=e.price,l=e.displayAssets,i=r.regularPrice;return c.a.createElement("div",{className:"card",id:t},c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{src:l.map(function(e){return e.full_background}),alt:a})),c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},a),c.a.createElement("p",null,n)),c.a.createElement("div",{className:"card-action"},c.a.createElement("button",{className:"btn",onClick:function(){return e.add({mainId:t,displayName:a,regularPrice:i})}},"Buy"),c.a.createElement("span",{className:"right",style:{fontSize:"1.8rem"}},r.regularPrice," RUB")))}function v(e){var t=e.goods,a=void 0===t?[]:t;return a.length?c.a.createElement("div",{className:"goods"},a.map(function(t){return c.a.createElement(E,Object.assign({key:t.mainId},t,{add:e.add}))})):c.a.createElement("h3",null,"Nothing")}function g(e){var t=e.quantity,a=void 0===t?0:t,n=e.handleBasketShow,r=void 0===n?Function.prototype:n;return c.a.createElement("div",{className:"cart blue darken-4 white-text",onClick:r},c.a.createElement("i",{className:"material-icons"},"shopping_cart"),a?c.a.createElement("span",{className:"cart-quantity"},a):null)}function N(e){var t=e.mainId,a=e.displayName,n=e.regularPrice,r=e.quantity,l=e.deleteBasketItem,i=void 0===l?Function.prototype:l,o=e.changeAmount,s=void 0===o?Function.prototype:o;return c.a.createElement("li",{className:"collection-item"},a,c.a.createElement("span",{className:"amount",onClick:function(){return s(!1,t)}},c.a.createElement("i",{className:"material-icons"},"remove")),"x",r,c.a.createElement("span",{className:"amount",onClick:function(){return s(!0,t)}},c.a.createElement("i",{className:"material-icons"},"add")),"= ",n*r," rub",c.a.createElement("span",{className:"secondary-content",onClick:function(){return i(t)}},c.a.createElement("i",{className:"material-icons delete"},"close")))}function h(e){var t=e.order,a=void 0===t?[]:t,n=e.handleBasketShow,r=void 0===n?Function.prototype:n,l=e.deleteBasketItem,i=void 0===l?Function.prototype:l,o=e.changeAmount,s=void 0===o?Function.prototype:o,m=a.reduce(function(e,t){return e+t.regularPrice*t.quantity},0);return c.a.createElement("ul",{className:"collection basket-list"},c.a.createElement("li",{className:"collection-item active"},"Basket"),a.length?a.map(function(e){return c.a.createElement(N,Object.assign({key:e.mainId},e,{deleteBasketItem:i,changeAmount:s}))}):c.a.createElement("li",{className:"collection-item"},"Nothing"),c.a.createElement("li",{className:"collection-item active"},"Sum: ",m," rub"),c.a.createElement("i",{className:"material-icons basket-close",onClick:r},"close"),c.a.createElement("button",{className:"secondery-content btn-small right"},"Buy"))}function y(e){var t=e.displayName,a=void 0===t?"":t,r=e.closeAlert,l=void 0===r?Function.prototype:r;return console.log(a),Object(n.useEffect)(function(){var e=setTimeout(l,3e3);return function(){clearTimeout(e)}},[a]),c.a.createElement("div",{id:"toast-container"},c.a.createElement("div",{className:"toast"},a))}function b(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!0),i=Object(u.a)(l,2),o=i[0],E=i[1],N=Object(n.useState)([]),b=Object(u.a)(N,2),k=b[0],j=b[1],O=Object(n.useState)(!1),I=Object(u.a)(O,2),w=I[0],B=I[1],S=Object(n.useState)(""),q=Object(u.a)(S,2),F=q[0],A=q[1];function x(){B(!w)}return Object(n.useEffect)(function(){fetch(f,{headers:{Authorization:d}}).then(function(e){return e.json()}).then(function(e){e.shop&&r(e.shop),E(!1)})},[]),c.a.createElement("main",{className:"container content"},c.a.createElement(g,{quantity:k.length,handleBasketShow:x}),o?c.a.createElement(p,null):c.a.createElement(v,{goods:a,add:function(e){var t=k.findIndex(function(t){return t.mainId===e.mainId});if(console.log(e.mainId),t<0){var a=Object(m.a)({},e,{quantity:1});j([].concat(Object(s.a)(k),[a]))}else{console.log("ok");var n=k.map(function(e,a){return t===a?Object(m.a)({},e,{quantity:e.quantity+1}):e});j(n)}A(e.displayName)}}),w&&c.a.createElement(h,{order:k,handleBasketShow:x,deleteBasketItem:function(e){var t=k.filter(function(t){return t.mainId!==e});j(t)},changeAmount:function(e,t){var a=k.map(function(a){if(a.mainId===t){if(e)return Object(m.a)({},a,{quantity:a.quantity+1});var n=a.quantity-1;if(n>0)return Object(m.a)({},a,{quantity:n})}return a});j(a)}}),F&&c.a.createElement(y,{displayName:F,closeAlert:function(){A("")}}))}var k=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i,null),c.a.createElement(b,null),c.a.createElement(o,null))};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null)))},6:function(e,t,a){e.exports=a(16)}},[[6,1,2]]]);
//# sourceMappingURL=main.71a41afd.chunk.js.map